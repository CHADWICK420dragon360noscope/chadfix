targetted_decisions = {
	prisoner_torture = {
		filter = court
		ai_target_filter = court

		from_potential = {
			has_dlc = "Reapers"
			is_ruler = yes
		}

		potential = {
			host = { character = FROM }
			prisoner = yes
			age = 13
		}

		allow = {
			prisoner = yes
		}

		effect = {
			hidden_tooltip = {

				random_list = {
					#Normal torture options
					10 = { 
						random_list = {
							10 = {
								# Racks
								FROM = { character_event = { id = RIP.20001 } }
								character_event = { id = RIP.20002 } 
								
							}

							10 = {
								# Whipping
								FROM = { character_event = { id = RIP.20003 } }
								character_event = { id = RIP.20004 } 

							}

							10 = {
								# Rats
								FROM = { character_event = { id = RIP.20005} }
								character_event = { id = RIP.20006 } 
							}
							
							20 = {
								# Heat exposure
								modifier = {
									factor = 0
									NAND = {
										month = 3
										NOT = { month = 9 }

										OR = {
											capital_scope = { region = world_africa }
											capital_scope = { region = world_middle_east }
											capital_scope = { region = world_persia }
											capital_scope = { region = world_india_north }
										}
									}
								}
								FROM = { character_event = { id = RIP.20009 } }
								character_event = { id = RIP.20010 } 
							}
							20 = {
								# Cold exposure
								modifier = {
									factor = 0
									NAND = {
										
										OR = { 
											month = 11
											NOT = { month = 2}
										}

										OR = {
											capital_scope = { region = world_europe_north }
											capital_scope = { region = world_steppe_west }
											capital_scope = { region = world_steppe_east }
										}
									}
								}
								FROM = { character_event = { id = RIP.20011 } }
								character_event = { id = RIP.20012 }
							}
						}
						hidden_tooltip = {

							opinion = {
								modifier = opinion_tortured_me
								who = FROM
							}

							mother = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							father = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							spouse = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							any_child = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							if = {
								limit = {
									FROM = {
										NOT = { dynasty = ROOT }
										NOT = { sibling = ROOT }
									}
								}
								any_sibling = {
									opinion = {
										modifier = opinion_tortured_close_kin
										who = FROM
									}
								}
								any_dynasty_member = {
									opinion = {
										modifier = opinion_tortured_family
										who = FROM
									}
								}
							}
						}
					}

					20 = {
						# Lunatic option
						modifier = {
							factor = 0
							NOT = { FROM = { trait = lunatic } }
						}

						FROM = { character_event = { id = RIP.20007 } }
						character_event = { id = RIP.20008 } 
					}
				}	
			}

			FROM = {
				remove_opinion = { who = ROOT modifier = opinion_traitor }
				remove_opinion = { who = ROOT modifier = opinion_rebel_traitor }
				remove_opinion = { who = ROOT modifier = opinion_dishonorable }
				
				if = {
					limit = { 
						NOR = {
							trait = cruel 
							trait = kind 
						}
					}

					random = {
						chance = 25
						add_trait = cruel
						hidden_tooltip = { character_event = { id = 38259 } }
					}
				}

				if = {
					limit = { trait = kind }

					random = { 
						chance = 50
						remove_trait = kind
						hidden_tooltip = {
							character_event = { id = 38307 }
						}
					}

					random_list = {
						30 = {
							add_trait = stressed
							hidden_tooltip = { character_event = { id = 38282 } }
						}
						10 = {
							add_trait = depressed
							hidden_tooltip = { character_event = { id = 38288 } }
						}
						60 = {
							#nothing
						}
					}
				}

				piety = -20
			}

			prisoner = no
			tooltip = { 
				add_character_modifier = { name = tortured years = 2 } 
				opinion = {
					modifier = opinion_tortured_me
					who = FROM
				}
			}
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 0.01
			
			modifier = {
				factor = 0
				reverse_opinion = { who = FROM value = 40 }
			}
			modifier = {
				factor = 0
				FROM = { trait = kind }
			}
			modifier = {
				factor = 0.2 # Less likely to do it
			}
			modifier = {
				factor = 10
				FROM = {
					OR = {
						trait = cruel
						trait = impaler
						trait = wroth
						is_rival = ROOT
						trait = arbitrary
					}
				}
			}
		}
	}

	prisoner_mutilate = {

		filter = court
		ai_target_filter = court

		from_potential = {
			has_dlc = "Reapers"
			is_ruler = yes
			OR = {
				trait = cruel
				trait = impaler
				trait = wroth
				trait = arbitrary
				AND = {
					trait = envious
					trait = ugly
				}
			}
			NOT = { trait = kind }
		}

		potential = {
			host = { character = FROM }
			prisoner = yes
			age = 13

			NAND = {
				trait = one_legged
				trait = one_handed
				trait = disfigured
				OR = {
					trait = one_eyed
					trait = blinded
				}
				OR = {
					is_female = yes
					trait = eunuch
				}
			}
		}

		allow = {
			prisoner = yes
		}

		effect = {
			hidden_tooltip = {

				random_list = {
					10 = {
						# One-legged
						modifier = {
							factor = 0
							trait = one_legged
						}
						FROM = { character_event = { id = RIP.20013 } }
						character_event = { id = RIP.20014 } 
					}

					10 = {
						# One-handed
						modifier = {
							factor = 0
							trait = one_handed
						}
						FROM = { character_event = { id = RIP.20015 } }
						character_event = { id = RIP.20016 }

					}

					10 = {
						# One-eyed
						modifier = {
							factor = 0
							OR = {
								trait = one_eyed
								trait = blinded
							}
						}
						FROM = { character_event = { id = RIP.20017 } }
						character_event = { id = RIP.20018 } 

					}

					10 = {
						# Disfigured
						modifier = {
							factor = 0
							trait = disfigured
						}
						FROM = { character_event = { id = RIP.20019 } }
						character_event = { id = RIP.20020 }
					}	

					10 = {
						# Castrate
						modifier = {
							factor = 0
							OR = {
								is_female = yes
								trait = eunuch 
							}
						}
						FROM = { character_event = { id = RIP.20021 } }
						character_event = { id = RIP.20022 } 
					}
				}
				
			}

			FROM = {

				if = {
					limit = { NOT = { trait = cruel } }
					random = {
						chance = 25
						add_trait = cruel
						hidden_tooltip = {
							character_event = { id = 38259 }
						}
					}
				}
				piety = -50
			}

			prisoner = no

			opinion = {
				modifier = opinion_mutilated_me
				who = FROM
			}

			hidden_tooltip = {
				mother = {
					opinion = {
						modifier = opinion_mutilated_close_kin
						who = FROM
					}
				}
				father = {
					opinion = {
						modifier = opinion_mutilated_close_kin
						who = FROM
					}
				}
				spouse = {
					opinion = {
						modifier = opinion_mutilated_close_kin
						who = FROM
					}
				}
				any_child = {
					opinion = {
						modifier = opinion_mutilated_close_kin
						who = FROM
					}
				}
				if = {
					limit = {
						FROM = {
							NOT = { dynasty = ROOT }
							NOT = { sibling = ROOT }
						}
					}
					any_sibling = {
						opinion = {
							modifier = opinion_mutilated_close_kin
							who = FROM
						}
					}
					any_dynasty_member = {
						opinion = {
							modifier = opinion_mutilated_family
							who = FROM
						}
					}
				}
				
				FROM = {
					remove_opinion = { who = ROOT modifier = opinion_traitor }
					remove_opinion = { who = ROOT modifier = opinion_rebel_traitor }
					remove_opinion = { who = ROOT modifier = opinion_dishonorable }
				}
			}
		}
		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				reverse_opinion = { who = FROM value = 40 }
			}
			modifier = {
				factor = 0.2 # Less likely to do it
			}
		}
	}
}