# The Grand Master demands one of your sons due to debt
character_event = {
	id = SoA.1000

	hide_window = yes

	only_playable = yes

	trigger = {
		has_holy_order_trigger = yes
		borrowed_from_holy_order_trigger = yes
		NOT = { has_character_flag = sent_son_to_holy_order }
		any_child = {
			is_female = no
			is_adult = yes
			is_ruler = no
			prisoner = no
			NOT = { trait = incapable }
			ROOT = {
				NOT = { 
					current_heir = { 
						character = PREVPREV 
					}
				}
			}
		}
		has_dlc = "Sons of Abraham"
	}

	mean_time_to_happen = {
		months = 120
	}

	immediate = {
		random_child = {
			limit = {
				is_female = no
				is_adult = yes
				is_ruler = no
				prisoner = no
				NOT = { trait = incapable }
				ROOT = {
					NOT = { 
						current_heir = { 
							character = PREVPREV 
						}
					}
				}
			}
			character_event = {
				id = SoA.1001
			}
		}
	}
}

character_event = {
	id = SoA.1001
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		trigger_switch = {
			on_trigger = religion
			adoptionist = {
				d_holy_adoptionist = {
						save_event_target_as = holy_order
				}
			}
			alexandros = {
				d_holyalexandros = {
					save_event_target_as = holy_order
				}
			}
			almaqah = {
				d_holyalmaqah = {
					save_event_target_as = holy_order
				}
			}
			apollinarist = {
				d_holyapollinarist = {
					save_event_target_as = holy_order
				}
			}
			arian = {
				d_holyarian = {
					save_event_target_as = holy_order
				}
			}
			ashari = {
				d_holyashari = {
					save_event_target_as = holy_order
				}
			}
			athari = {
				d_holyathari = {
					save_event_target_as = holy_order
				}
			}
			audianist = {
				d_holyaudianist = {
					save_event_target_as = holy_order
				}
			}
			aztec = {
				d_holyaztec = {
					save_event_target_as = holy_order
				}
			}
			bud_bahusrutiya = {
				d_holybud_bahusrutiya = {
					save_event_target_as = holy_order
				}
			}
			bud_mahayana = {
				d_holybud_mahayana = {
					save_event_target_as = holy_order
				}
			}
			bud_pratyeka = {
				d_holybud_pratyeka = {
					save_event_target_as = holy_order
				}
			}
			bud_pureland = {
				d_holybud_pureland = {
					save_event_target_as = holy_order
				}
			}
			bud_sthaviravada = {
				d_holybud_sthaviravada = {
					save_event_target_as = holy_order
				}
			}
			bud_vajrayana = {
				d_holybud_vajrayana = {
					save_event_target_as = holy_order
				}
			}
			catholic = {
				d_holycatholic = {
					save_event_target_as = holy_order
				}
			}
			donatist = {
				d_holydonatist = {
					save_event_target_as = holy_order
				}
			}
			haruri = {
				d_holyharuri = {
					save_event_target_as = holy_order
				}
			}
			hindu = {
				d_holyhindu = {
					save_event_target_as = holy_order
				}
			}
			hurufi = {
				d_holyhurufi = {
					save_event_target_as = holy_order
				}
			}
			iconoclast = {
				d_holyiconoclast = {
					save_event_target_as = holy_order
				}
			}
			ilm_islam = {
				d_holyilm_islam = {
					save_event_target_as = holy_order
				}
			}
			indoh_bud = {
				d_holyindoh_bud = {
					save_event_target_as = holy_order
				}
			}
			indoh_confucian = {
				d_holyindoh_confucian = {
					save_event_target_as = holy_order
				}
			}
			indoh_hindu = {
				d_holyindoh_hindu = {
					save_event_target_as = holy_order
				}
			}
			indoh_zor = {
				d_holyindoh_zor = {
					save_event_target_as = holy_order
				}
			}
			jain = {
				d_holyjain = {
					save_event_target_as = holy_order
				}
			}
			jud_zion = {
				d_holyjud_zion = {
					save_event_target_as = holy_order
				}
			}
			jupiter = {
				d_holyjupiter = {
					save_event_target_as = holy_order
				}
			}
			luwian = {
				d_holyluwian = {
					save_event_target_as = holy_order
				}
			}
			mani = {
				d_holymani = {
					save_event_target_as = holy_order
				}
			}
			mani_mithra = {
				d_holymani_mithra = {
					save_event_target_as = holy_order
				}
			}
			maturidi = {
				d_holymaturidi = {
					save_event_target_as = holy_order
				}
			}
			melkite = {
				d_holymelkite = {
					save_event_target_as = holy_order
				}
			}
			mithra = {
				d_holymithra = {
					save_event_target_as = holy_order
				}
			}
			mithra_christ = {
				d_holymithra_christ = {
					save_event_target_as = holy_order
				}
			}
			mithra_sol = {
				d_holymithra_sol = {
					save_event_target_as = holy_order
				}
			}
			monophysite = {
				d_holymonophysite = {
					save_event_target_as = holy_order
				}
			}
			monothelite = {
				d_holymonothelite = {
					save_event_target_as = holy_order
				}
			}
			murjiah = {
				d_holymurjiah = {
					save_event_target_as = holy_order
				}
			}
			mutazil = {
				d_holymutazil = {
					save_event_target_as = holy_order
				}
			}
			mwari = {
				d_holymwari = {
					save_event_target_as = holy_order
				}
			}
			neoplato = {
				d_holyneoplato = {
					save_event_target_as = holy_order
				}
			}
			nestorian = {
				d_holynestorian = {
					save_event_target_as = holy_order
				}
			}
			nyau = {
				d_holynyau = {
					save_event_target_as = holy_order
				}
			}
			orthodox = {
				d_holyorthodox = {
					save_event_target_as = holy_order
				}
			}
			pelagian = {
				d_holypelagian = {
					save_event_target_as = holy_order
				}
			}
			plato_christ = {
				d_holyplato_christ = {
					save_event_target_as = holy_order
				}
			}
			plato_islam = {
				d_holyplato_islam = {
					save_event_target_as = holy_order
				}
			}
			roman_imperial = {
				d_holyroman_imperial = {
					save_event_target_as = holy_order
				}
			}
			sabellianist = {
				d_holysabellianist = {
					save_event_target_as = holy_order
				}
			}
			semipelagian = {
				d_holysemipelagian = {
					save_event_target_as = holy_order
				}
			}
			shiite = {
				d_holyshiite = {
					save_event_target_as = holy_order
				}
			}
			sol = {
				d_holysol = {
					save_event_target_as = holy_order
				}
			}
			sol_apollo = {
				d_holysol_apollo = {
					save_event_target_as = holy_order
				}
			}
			sol_christ = {
				d_holysol_christ = {
					save_event_target_as = holy_order
				}
			}
			sol_mani = {
				d_holysol_mani = {
					save_event_target_as = holy_order
				}
			}
			solomonic_alexandros = {
				d_holysolomonic_alexandros = {
					save_event_target_as = holy_order
				}
			}
			solomonic_christ = {
				d_holysolomonic_christ = {
					save_event_target_as = holy_order
				}
			}
			sunni = {
				d_holysunni = {
					save_event_target_as = holy_order
				}
			}
			unctionist = {
				d_holyunctionist = {
					save_event_target_as = holy_order
				}
			}
			yoruba = {
				d_holyyoruba = {
					save_event_target_as = holy_order
				}
			}
			zahiri = {
				d_holyzahiri = {
					save_event_target_as = holy_order
				}
			}
			zal = {
				d_holyzal = {
					save_event_target_as = holy_order
				}
			}
			zal_christ = {
				d_holyzal_christ = {
					save_event_target_as = holy_order
				}
			}
			zal_mani = {
				d_holyzal_mani = {
					save_event_target_as = holy_order
				}
			}
			zor_hindu = {
				d_holyzor_hindu = {
					save_event_target_as = holy_order
				}
			}
			zoroastrian = {
				d_holyzoroastrian = {
					save_event_target_as = holy_order
				}
			}
			ahriman_reformed = {
				d_holyahriman_reformed = {
					save_event_target_as = holy_order
				}
			}
			amun_reformed = {
				d_holyamun_reformed = {
					save_event_target_as = holy_order
				}
			}
			arab_pagan_reformed = {
				d_holyarab_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			aten_reformed = {
				d_holyaten_reformed = {
					save_event_target_as = holy_order
				}
			}
			baal_monotheistic_reformed = {
				d_holybaal_monotheistic_reformed = {
					save_event_target_as = holy_order
				}
			}
			baltic_pagan_reformed = {
				d_holybaltic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			bantu_pagan_reformed = {
				d_holybantu_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			berber_pagan_reformed = {
				d_holyberber_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			bon_reformed = {
				d_holybon_reformed = {
					save_event_target_as = holy_order
				}
			}
			bud_zen_reformed = {
				d_holybud_zen_reformed = {
					save_event_target_as = holy_order
				}
			}
			bud_zor_reformed = {
				d_holybud_zor_reformed = {
					save_event_target_as = holy_order
				}
			}
			cathar_reformed = {
				d_holycathar_reformed = {
					save_event_target_as = holy_order
				}
			}
			celtic_christ_reformed = {
				d_holyceltic_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			celtic_pagan_reformed = {
				d_holyceltic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			christian_populist_reformed = {
				d_holychristian_populist_reformed = {
					save_event_target_as = holy_order
				}
			}
			chumbylat_reformed = {
				d_holychumbylat_reformed = {
					save_event_target_as = holy_order
				}
			}
			cybele_reformed = {
				d_holycybele_reformed = {
					save_event_target_as = holy_order
				}
			}
			druze_reformed = {
				d_holydruze_reformed = {
					save_event_target_as = holy_order
				}
			}
			erlik_reformed = {
				d_holyerlik_reformed = {
					save_event_target_as = holy_order
				}
			}
			ethiopian_war_reformed = {
				d_holyethiopian_war_reformed = {
					save_event_target_as = holy_order
				}
			}
			finnish_pagan_reformed = {
				d_holyfinnish_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			german_pagan_reformed = {
				d_holygerman_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			graeco_roman_reformed = {
				d_holygraeco_roman_reformed = {
					save_event_target_as = holy_order
				}
			}
			iberian_pagan_reformed = {
				d_holyiberian_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			illuyanka_reformed = {
				d_holyilluyanka_reformed = {
					save_event_target_as = holy_order
				}
			}
			indohelen_reformed = {
				d_holyindohelen_reformed = {
					save_event_target_as = holy_order
				}
			}
			inuit_pagan_reformed = {
				d_holyinuit_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			isis_reformed = {
				d_holyisis_reformed = {
					save_event_target_as = holy_order
				}
			}
			jud_ark_reformed = {
				d_holyjud_ark_reformed = {
					save_event_target_as = holy_order
				}
			}
			judaism_reformed = {
				d_holyjudaism_reformed = {
					save_event_target_as = holy_order
				}
			}
			kubera_reformed = {
				d_holykubera_reformed = {
					save_event_target_as = holy_order
				}
			}
			lubu_reformed = {
				d_holylubu_reformed = {
					save_event_target_as = holy_order
				}
			}
			mand_ruha_reformed = {
				d_holymand_ruha_reformed = {
					save_event_target_as = holy_order
				}
			}
			mandaean_reformed = {
				d_holymandaean_reformed = {
					save_event_target_as = holy_order
				}
			}
			mani_germanic_reformed = {
				d_holymani_germanic_reformed = {
					save_event_target_as = holy_order
				}
			}
			mani_slavic_reformed = {
				d_holymani_slavic_reformed = {
					save_event_target_as = holy_order
				}
			}
			mari_christ_reformed = {
				d_holymari_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			mazdakism_reformed = {
				d_holymazdakism_reformed = {
					save_event_target_as = holy_order
				}
			}
			montanist_reformed = {
				d_holymontanist_reformed = {
					save_event_target_as = holy_order
				}
			}
			murugan_reformed = {
				d_holymurugan_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_aliite_reformed = {
				d_holymuslim_aliite_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_domination_reformed = {
				d_holymuslim_domination_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_sufi_reformed = {
				d_holymuslim_sufi_reformed = {
					save_event_target_as = holy_order
				}
			}
			nasrani_reformed = {
				d_holynasrani_reformed = {
					save_event_target_as = holy_order
				}
			}
			norse_christ_reformed = {
				d_holynorse_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			norse_pagan_reformed = {
				d_holynorse_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			northern_sun_reformed = {
				d_holynorthern_sun_reformed = {
					save_event_target_as = holy_order
				}
			}
			nyakalagan_reformed = {
				d_holynyakalagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			priscillian_reformed = {
				d_holypriscillian_reformed = {
					save_event_target_as = holy_order
				}
			}
			ragnarok_reformed = {
				d_holyragnarok_reformed = {
					save_event_target_as = holy_order
				}
			}
			saura_reformed = {
				d_holysaura_reformed = {
					save_event_target_as = holy_order
				}
			}
			serer_reformed = {
				d_holyserer_reformed = {
					save_event_target_as = holy_order
				}
			}
			set_reformed = {
				d_holyset_reformed = {
					save_event_target_as = holy_order
				}
			}
			sethian_reformed = {
				d_holysethian_reformed = {
					save_event_target_as = holy_order
				}
			}
			slavic_christian_reformed = {
				d_holyslavic_christian_reformed = {
					save_event_target_as = holy_order
				}
			}
			slavic_pagan_reformed = {
				d_holyslavic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_boreas_reformed = {
				d_holysol_boreas_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_islam_reformed = {
				d_holysol_islam_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_sahara_reformed = {
				d_holysol_sahara_reformed = {
					save_event_target_as = holy_order
				}
			}
			tao_reformed = {
				d_holytao_reformed = {
					save_event_target_as = holy_order
				}
			}
			tarhunt_reformed = {
				d_holytarhunt_reformed = {
					save_event_target_as = holy_order
				}
			}
			teiwaz_reformed = {
				d_holyteiwaz_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_bud_reformed = {
				d_holytengri_bud_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_confucian_reformed = {
				d_holytengri_confucian_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_mani_reformed = {
				d_holytengri_mani_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_pagan_reformed = {
				d_holytengri_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_rod_reformed = {
				d_holytengri_rod_reformed = {
					save_event_target_as = holy_order
				}
			}
			vattisenyaly_reformed = {
				d_holyvattisenyaly_reformed = {
					save_event_target_as = holy_order
				}
			}
			vidharma_reformed = {
				d_holyvidharma_reformed = {
					save_event_target_as = holy_order
				}
			}
			voipel_reformed = {
				d_holyvoipel_reformed = {
					save_event_target_as = holy_order
				}
			}
			yazdanism_reformed = {
				d_holyyazdanism_reformed = {
					save_event_target_as = holy_order
				}
			}
			zande_pagan_reformed = {
				d_holyzande_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			zulu_pagan_reformed = {
				d_holyzulu_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			zurvanism_reformed = {
				d_holyzurvanism_reformed = {
					save_event_target_as = holy_order
				}
			}
		}
		event_target:holy_order = {
			holder_scope = {
				character_event = {
					id = SoA.1002
				}
			}
		}
	}
}

character_event = {
	id = SoA.1002
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			letter_event = {
				id = SoA.1003
			}
		}
	}
}

letter_event = {
	id = SoA.1003
	desc = EVTDESC_SOA_1003
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOA_1003 # Agree
		ai_chance = {
			factor = 100
		}

		set_character_flag = sent_son_to_holy_order

		piety = 100

		event_target:holy_order = {
			holder_scope = {
				FROMFROM = {
					hidden_tooltip = {
						clear_wealth = PREV
					}
				}
				if = {
					limit = {
						celibate_priest_religion_trigger = yes
					}
					FROMFROM = {
						any_spouse = {
							remove_spouse = spouse
							hidden_tooltip = {
								character_event = {
									id = SoA.2862
								}
							}
						}
						add_trait = celibate
					}
				}
				FROMFROM = {
					if = {
						limit = { trait = in_hiding }
						remove_trait = in_hiding
						clr_character_flag = do_not_disturb
						add_character_modifier = {
							name = went_out_of_hiding_timer
							duration = 180
							hidden = yes
						}
						hidden_tooltip = { character_event = { id = CM.6400 } } # Notify plotters and family
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB_SOA_1003 # Pay them back
		wealth = -300
		hidden_tooltip = {
			remove_borrowed_from_holy_order_effect = yes
		}
		FROM = {
			wealth = 300
		}
	}

	option = {
		name = EVTOPTC_SOA_1003 # Refuse
		piety = -1000
	}
}

# Ping event when borrowing money from a Holy Order
character_event = {
	id = SoA.1010
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		wealth = -300
		FROM = {
			letter_event = {
				id = SoA.1011
			}
		}
	}
}

# Notification event when borrowing money from a Holy Order
letter_event = {
	id = SoA.1011
	desc =EVTDESC_SOA_1011
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = EXCELLENT
	}
}

# Ping event when vassalizing a Holy Order
character_event = {
	id = SoA.1015
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		set_defacto_liege = FROM
		FROM = {
			letter_event = {
				id = SoA.1016
			}
		}
	}
}

# Notification event when vassalizing a Holy Order
letter_event = {
	id = SoA.1016
	desc =EVTDESC_SOA_1016
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = EXCELLENT
	}
}


# The Grand Master demands the right to build a castle in your demesne
character_event = {
	id = SoA.1020
	hide_window = yes

	only_playable = yes

	trigger = {
		has_holy_order_trigger = yes
		borrowed_from_holy_order_trigger = yes
		NOT = { has_character_flag = sent_son_to_holy_order }

		any_demesne_province = {
			has_empty_holding = yes
			has_settlement_construction = no
		}

		any_independent_ruler = {
			religion = ROOT
			primary_title = {
				holy_order = yes
			}
			wealth = 300
		}
		
		has_dlc = "Sons of Abraham"

		expelled_holy_order_trigger = no
		NOT = {
			any_liege = {
				expelled_holy_order_trigger = yes
			}
		}
	}

	mean_time_to_happen = {
		months = 60
	}

	immediate = {
		random_demesne_province = {
			limit = {
				has_empty_holding = yes
				has_settlement_construction = no
			}
			province_event = {
				id = SoA.1021
			}
		}
	}
}

province_event = {
	id = SoA.1021
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		owner = {
			trigger_switch = {
				on_trigger = religion
				adoptionist = {
					d_holy_adoptionist = {
							save_event_target_as = holy_order
					}
				}
				alexandros = {
					d_holyalexandros = {
						save_event_target_as = holy_order
					}
				}
				almaqah = {
					d_holyalmaqah = {
						save_event_target_as = holy_order
					}
				}
				apollinarist = {
					d_holyapollinarist = {
						save_event_target_as = holy_order
					}
				}
				arian = {
					d_holyarian = {
						save_event_target_as = holy_order
					}
				}
				ashari = {
					d_holyashari = {
						save_event_target_as = holy_order
					}
				}
				athari = {
					d_holyathari = {
						save_event_target_as = holy_order
					}
				}
				audianist = {
					d_holyaudianist = {
						save_event_target_as = holy_order
					}
				}
				aztec = {
					d_holyaztec = {
						save_event_target_as = holy_order
					}
				}
				bud_bahusrutiya = {
					d_holybud_bahusrutiya = {
						save_event_target_as = holy_order
					}
				}
				bud_mahayana = {
					d_holybud_mahayana = {
						save_event_target_as = holy_order
					}
				}
				bud_pratyeka = {
					d_holybud_pratyeka = {
						save_event_target_as = holy_order
					}
				}
				bud_pureland = {
					d_holybud_pureland = {
						save_event_target_as = holy_order
					}
				}
				bud_sthaviravada = {
					d_holybud_sthaviravada = {
						save_event_target_as = holy_order
					}
				}
				bud_vajrayana = {
					d_holybud_vajrayana = {
						save_event_target_as = holy_order
					}
				}
				catholic = {
					d_holycatholic = {
						save_event_target_as = holy_order
					}
				}
				donatist = {
					d_holydonatist = {
						save_event_target_as = holy_order
					}
				}
				haruri = {
					d_holyharuri = {
						save_event_target_as = holy_order
					}
				}
				hindu = {
					d_holyhindu = {
						save_event_target_as = holy_order
					}
				}
				hurufi = {
					d_holyhurufi = {
						save_event_target_as = holy_order
					}
				}
				iconoclast = {
					d_holyiconoclast = {
						save_event_target_as = holy_order
					}
				}
				ilm_islam = {
					d_holyilm_islam = {
						save_event_target_as = holy_order
					}
				}
				indoh_bud = {
					d_holyindoh_bud = {
						save_event_target_as = holy_order
					}
				}
				indoh_confucian = {
					d_holyindoh_confucian = {
						save_event_target_as = holy_order
					}
				}
				indoh_hindu = {
					d_holyindoh_hindu = {
						save_event_target_as = holy_order
					}
				}
				indoh_zor = {
					d_holyindoh_zor = {
						save_event_target_as = holy_order
					}
				}
				jain = {
					d_holyjain = {
						save_event_target_as = holy_order
					}
				}
				jud_zion = {
					d_holyjud_zion = {
						save_event_target_as = holy_order
					}
				}
				jupiter = {
					d_holyjupiter = {
						save_event_target_as = holy_order
					}
				}
				luwian = {
					d_holyluwian = {
						save_event_target_as = holy_order
					}
				}
				mani = {
					d_holymani = {
						save_event_target_as = holy_order
					}
				}
				mani_mithra = {
					d_holymani_mithra = {
						save_event_target_as = holy_order
					}
				}
				maturidi = {
					d_holymaturidi = {
						save_event_target_as = holy_order
					}
				}
				melkite = {
					d_holymelkite = {
						save_event_target_as = holy_order
					}
				}
				mithra = {
					d_holymithra = {
						save_event_target_as = holy_order
					}
				}
				mithra_christ = {
					d_holymithra_christ = {
						save_event_target_as = holy_order
					}
				}
				mithra_sol = {
					d_holymithra_sol = {
						save_event_target_as = holy_order
					}
				}
				monophysite = {
					d_holymonophysite = {
						save_event_target_as = holy_order
					}
				}
				monothelite = {
					d_holymonothelite = {
						save_event_target_as = holy_order
					}
				}
				murjiah = {
					d_holymurjiah = {
						save_event_target_as = holy_order
					}
				}
				mutazil = {
					d_holymutazil = {
						save_event_target_as = holy_order
					}
				}
				mwari = {
					d_holymwari = {
						save_event_target_as = holy_order
					}
				}
				neoplato = {
					d_holyneoplato = {
						save_event_target_as = holy_order
					}
				}
				nestorian = {
					d_holynestorian = {
						save_event_target_as = holy_order
					}
				}
				nyau = {
					d_holynyau = {
						save_event_target_as = holy_order
					}
				}
				orthodox = {
					d_holyorthodox = {
						save_event_target_as = holy_order
					}
				}
				pelagian = {
					d_holypelagian = {
						save_event_target_as = holy_order
					}
				}
				plato_christ = {
					d_holyplato_christ = {
						save_event_target_as = holy_order
					}
				}
				plato_islam = {
					d_holyplato_islam = {
						save_event_target_as = holy_order
					}
				}
				roman_imperial = {
					d_holyroman_imperial = {
						save_event_target_as = holy_order
					}
				}
				sabellianist = {
					d_holysabellianist = {
						save_event_target_as = holy_order
					}
				}
				semipelagian = {
					d_holysemipelagian = {
						save_event_target_as = holy_order
					}
				}
				shiite = {
					d_holyshiite = {
						save_event_target_as = holy_order
					}
				}
				sol = {
					d_holysol = {
						save_event_target_as = holy_order
					}
				}
				sol_apollo = {
					d_holysol_apollo = {
						save_event_target_as = holy_order
					}
				}
				sol_christ = {
					d_holysol_christ = {
						save_event_target_as = holy_order
					}
				}
				sol_mani = {
					d_holysol_mani = {
						save_event_target_as = holy_order
					}
				}
				solomonic_alexandros = {
					d_holysolomonic_alexandros = {
						save_event_target_as = holy_order
					}
				}
				solomonic_christ = {
					d_holysolomonic_christ = {
						save_event_target_as = holy_order
					}
				}
				sunni = {
					d_holysunni = {
						save_event_target_as = holy_order
					}
				}
				unctionist = {
					d_holyunctionist = {
						save_event_target_as = holy_order
					}
				}
				yoruba = {
					d_holyyoruba = {
						save_event_target_as = holy_order
					}
				}
				zahiri = {
					d_holyzahiri = {
						save_event_target_as = holy_order
					}
				}
				zal = {
					d_holyzal = {
						save_event_target_as = holy_order
					}
				}
				zal_christ = {
					d_holyzal_christ = {
						save_event_target_as = holy_order
					}
				}
				zal_mani = {
					d_holyzal_mani = {
						save_event_target_as = holy_order
					}
				}
				zor_hindu = {
					d_holyzor_hindu = {
						save_event_target_as = holy_order
					}
				}
				zoroastrian = {
					d_holyzoroastrian = {
						save_event_target_as = holy_order
					}
				}
				ahriman_reformed = {
					d_holyahriman_reformed = {
						save_event_target_as = holy_order
					}
				}
				amun_reformed = {
					d_holyamun_reformed = {
						save_event_target_as = holy_order
					}
				}
				arab_pagan_reformed = {
					d_holyarab_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				aten_reformed = {
					d_holyaten_reformed = {
						save_event_target_as = holy_order
					}
				}
				baal_monotheistic_reformed = {
					d_holybaal_monotheistic_reformed = {
						save_event_target_as = holy_order
					}
				}
				baltic_pagan_reformed = {
					d_holybaltic_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				bantu_pagan_reformed = {
					d_holybantu_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				berber_pagan_reformed = {
					d_holyberber_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				bon_reformed = {
					d_holybon_reformed = {
						save_event_target_as = holy_order
					}
				}
				bud_zen_reformed = {
					d_holybud_zen_reformed = {
						save_event_target_as = holy_order
					}
				}
				bud_zor_reformed = {
					d_holybud_zor_reformed = {
						save_event_target_as = holy_order
					}
				}
				cathar_reformed = {
					d_holycathar_reformed = {
						save_event_target_as = holy_order
					}
				}
				celtic_christ_reformed = {
					d_holyceltic_christ_reformed = {
						save_event_target_as = holy_order
					}
				}
				celtic_pagan_reformed = {
					d_holyceltic_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				christian_populist_reformed = {
					d_holychristian_populist_reformed = {
						save_event_target_as = holy_order
					}
				}
				chumbylat_reformed = {
					d_holychumbylat_reformed = {
						save_event_target_as = holy_order
					}
				}
				cybele_reformed = {
					d_holycybele_reformed = {
						save_event_target_as = holy_order
					}
				}
				druze_reformed = {
					d_holydruze_reformed = {
						save_event_target_as = holy_order
					}
				}
				erlik_reformed = {
					d_holyerlik_reformed = {
						save_event_target_as = holy_order
					}
				}
				ethiopian_war_reformed = {
					d_holyethiopian_war_reformed = {
						save_event_target_as = holy_order
					}
				}
				finnish_pagan_reformed = {
					d_holyfinnish_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				german_pagan_reformed = {
					d_holygerman_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				graeco_roman_reformed = {
					d_holygraeco_roman_reformed = {
						save_event_target_as = holy_order
					}
				}
				iberian_pagan_reformed = {
					d_holyiberian_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				illuyanka_reformed = {
					d_holyilluyanka_reformed = {
						save_event_target_as = holy_order
					}
				}
				indohelen_reformed = {
					d_holyindohelen_reformed = {
						save_event_target_as = holy_order
					}
				}
				inuit_pagan_reformed = {
					d_holyinuit_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				isis_reformed = {
					d_holyisis_reformed = {
						save_event_target_as = holy_order
					}
				}
				jud_ark_reformed = {
					d_holyjud_ark_reformed = {
						save_event_target_as = holy_order
					}
				}
				judaism_reformed = {
					d_holyjudaism_reformed = {
						save_event_target_as = holy_order
					}
				}
				kubera_reformed = {
					d_holykubera_reformed = {
						save_event_target_as = holy_order
					}
				}
				lubu_reformed = {
					d_holylubu_reformed = {
						save_event_target_as = holy_order
					}
				}
				mand_ruha_reformed = {
					d_holymand_ruha_reformed = {
						save_event_target_as = holy_order
					}
				}
				mandaean_reformed = {
					d_holymandaean_reformed = {
						save_event_target_as = holy_order
					}
				}
				mani_germanic_reformed = {
					d_holymani_germanic_reformed = {
						save_event_target_as = holy_order
					}
				}
				mani_slavic_reformed = {
					d_holymani_slavic_reformed = {
						save_event_target_as = holy_order
					}
				}
				mari_christ_reformed = {
					d_holymari_christ_reformed = {
						save_event_target_as = holy_order
					}
				}
				mazdakism_reformed = {
					d_holymazdakism_reformed = {
						save_event_target_as = holy_order
					}
				}
				montanist_reformed = {
					d_holymontanist_reformed = {
						save_event_target_as = holy_order
					}
				}
				murugan_reformed = {
					d_holymurugan_reformed = {
						save_event_target_as = holy_order
					}
				}
				muslim_aliite_reformed = {
					d_holymuslim_aliite_reformed = {
						save_event_target_as = holy_order
					}
				}
				muslim_domination_reformed = {
					d_holymuslim_domination_reformed = {
						save_event_target_as = holy_order
					}
				}
				muslim_sufi_reformed = {
					d_holymuslim_sufi_reformed = {
						save_event_target_as = holy_order
					}
				}
				nasrani_reformed = {
					d_holynasrani_reformed = {
						save_event_target_as = holy_order
					}
				}
				norse_christ_reformed = {
					d_holynorse_christ_reformed = {
						save_event_target_as = holy_order
					}
				}
				norse_pagan_reformed = {
					d_holynorse_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				northern_sun_reformed = {
					d_holynorthern_sun_reformed = {
						save_event_target_as = holy_order
					}
				}
				nyakalagan_reformed = {
					d_holynyakalagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				priscillian_reformed = {
					d_holypriscillian_reformed = {
						save_event_target_as = holy_order
					}
				}
				ragnarok_reformed = {
					d_holyragnarok_reformed = {
						save_event_target_as = holy_order
					}
				}
				saura_reformed = {
					d_holysaura_reformed = {
						save_event_target_as = holy_order
					}
				}
				serer_reformed = {
					d_holyserer_reformed = {
						save_event_target_as = holy_order
					}
				}
				set_reformed = {
					d_holyset_reformed = {
						save_event_target_as = holy_order
					}
				}
				sethian_reformed = {
					d_holysethian_reformed = {
						save_event_target_as = holy_order
					}
				}
				slavic_christian_reformed = {
					d_holyslavic_christian_reformed = {
						save_event_target_as = holy_order
					}
				}
				slavic_pagan_reformed = {
					d_holyslavic_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				sol_boreas_reformed = {
					d_holysol_boreas_reformed = {
						save_event_target_as = holy_order
					}
				}
				sol_islam_reformed = {
					d_holysol_islam_reformed = {
						save_event_target_as = holy_order
					}
				}
				sol_sahara_reformed = {
					d_holysol_sahara_reformed = {
						save_event_target_as = holy_order
					}
				}
				tao_reformed = {
					d_holytao_reformed = {
						save_event_target_as = holy_order
					}
				}
				tarhunt_reformed = {
					d_holytarhunt_reformed = {
						save_event_target_as = holy_order
					}
				}
				teiwaz_reformed = {
					d_holyteiwaz_reformed = {
						save_event_target_as = holy_order
					}
				}
				tengri_bud_reformed = {
					d_holytengri_bud_reformed = {
						save_event_target_as = holy_order
					}
				}
				tengri_confucian_reformed = {
					d_holytengri_confucian_reformed = {
						save_event_target_as = holy_order
					}
				}
				tengri_mani_reformed = {
					d_holytengri_mani_reformed = {
						save_event_target_as = holy_order
					}
				}
				tengri_pagan_reformed = {
					d_holytengri_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				tengri_rod_reformed = {
					d_holytengri_rod_reformed = {
						save_event_target_as = holy_order
					}
				}
				vattisenyaly_reformed = {
					d_holyvattisenyaly_reformed = {
						save_event_target_as = holy_order
					}
				}
				vidharma_reformed = {
					d_holyvidharma_reformed = {
						save_event_target_as = holy_order
					}
				}
				voipel_reformed = {
					d_holyvoipel_reformed = {
						save_event_target_as = holy_order
					}
				}
				yazdanism_reformed = {
					d_holyyazdanism_reformed = {
						save_event_target_as = holy_order
					}
				}
				zande_pagan_reformed = {
					d_holyzande_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				zulu_pagan_reformed = {
					d_holyzulu_pagan_reformed = {
						save_event_target_as = holy_order
					}
				}
				zurvanism_reformed = {
					d_holyzurvanism_reformed = {
						save_event_target_as = holy_order
					}
				}
			}
			event_target:holy_order = {
				holder_scope = {
					character_event = {
						id = SoA.1022
					}
				}
			}
		}
	}
}

character_event = {
	id = SoA.1022
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			letter_event = {
				id = SoA.1023
			}
		}
	}
}

letter_event = {
	id = SoA.1023
	desc =EVTDESC_SOA_1023
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOA_1023 # Agree
		ai_chance = {
			factor = 100
		}

		hidden_tooltip = {
			remove_borrowed_from_holy_order_effect = yes
			remove_expelled_holy_order_effect = yes
			FROMFROM = {
				province_event = { id = SoA.1024 }
			}
		}

		piety = 100
	}

	option = {
		name = EVTOPTB_SOA_1003 # Pay them back
		wealth = -300
		hidden_tooltip = {
			remove_borrowed_from_holy_order_effect = yes
		}
		FROM = {
			wealth = 300
		}
	}

	option = {
		name = EVTOPTC_SOA_1003 # Refuse
		piety = -1000
	}
}

# Castle has been erected
province_event = {
	id = SoA.1024
	desc =EVTDESC_SOA_1024
	picture = GFX_evt_castle_construction
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			wealth = -300
		}
	}

	option = {
		name = EVTOPTA_SOA_1024
		build_holding = {
		   type = castle
		   holder = FROMFROM
		}
	}
}


# The son of a ruler volunteers to join a Holy Order
character_event = {
	id = SoA.1030
#	desc =EVTDESC_SOA_1030
#	picture = GFX_evt_crusaders
#	border = GFX_event_normal_frame_religion
	hide_window = yes
	only_men = yes
	min_age = 16
	max_age = 45
	only_capable = yes
	prisoner = no

	trigger = {
		is_ruler = no
		has_holy_order_trigger = yes

		martial = 5

		# is_title_active = d_knights_templar

		OR = {
			father_even_if_dead = {
				primary_title = { higher_tier_than = BARON }
			}
			mother_even_if_dead = {
				primary_title = { higher_tier_than = BARON }
			}
		}

		liege = {
			holy_order = no
			liege = {
				holy_order = no
			}
			religion_group = ROOT
			OR = {
				sibling = ROOT
				ROOT = {
					is_child_of = PREV
				}
			}
			NOT = {
				spouse = {
					character = ROOT
				}
			}
		}

		has_dlc = "Sons of Abraham"

		expelled_holy_order_trigger = no
		NOT = {
			any_liege = {
				expelled_holy_order_trigger = yes
			}
		}
	}

	mean_time_to_happen = {
		years = 100
		modifier = {
			factor = 0.25
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = celibate
		}
		modifier = {
			factor = 0.5
			trait = homosexual
		}
		modifier = {
			factor = 0.7
			trait = content
		}
		modifier = {
			factor = 0.75
			trait = chaste
		}
		modifier = {
			factor = 0.75
			NOT = { age = 25 }
		}
		modifier = {
			factor = 1.5
			trait = slothful
		}
		modifier = {
			factor = 2.0
			trait = lustful
		}
		modifier = {
			factor = 2.0
			trait = cynical
		}
		modifier = {
			factor = 2.0
			trait = hedonist
		}
		modifier = {
			factor = 2.0
			trait = ambitious
		}
		modifier = {
			factor = 2.0
			any_heir_title = {
				always = yes
			}
		}
		modifier = {
			factor = 2.0
			is_primary_heir = yes
		}
	}

	option = {
#		name = EVTOPTA_SOA_1030 # Ask to go
		ai_chance = {
			factor = 100
		}
		liege = {
			character_event = {
				id = SoA.1031
			}
		}
	}
	option = {
#		name = EVTOPTB_SOA_1030 # It's a bad idea
	}
}

# Son or brother asks to join a Holy Order
character_event = {
	id = SoA.1031
	desc =EVTDESC_SOA_1031
	picture = GFX_evt_crusaders
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOA_1031 # Agree
		ai_chance = {
			factor = 100
		}

		piety = 100

		FROM = {
			character_event = {
				id = SoA.1032
				tooltip = EVTTOOLTIP_SOA_1032
			}
		}
	}

	option = {
		name = EVTOPTB_SOA_1031 # Refuse

		piety = -100

		FROM = {
			character_event = {
				id = SoA.1033
				tooltip = EVTTOOLTIP_SOA_1033
			}
		}
	}
}

# Son or brother joins a Holy Order
character_event = {
	id = SoA.1032
	hide_window = yes
	is_triggered_only = yes

	option = {
		trigger_switch = {
			on_trigger = religion
			adoptionist = {
				d_holy_adoptionist = {
						save_event_target_as = holy_order
				}
			}
			alexandros = {
				d_holyalexandros = {
					save_event_target_as = holy_order
				}
			}
			almaqah = {
				d_holyalmaqah = {
					save_event_target_as = holy_order
				}
			}
			apollinarist = {
				d_holyapollinarist = {
					save_event_target_as = holy_order
				}
			}
			arian = {
				d_holyarian = {
					save_event_target_as = holy_order
				}
			}
			ashari = {
				d_holyashari = {
					save_event_target_as = holy_order
				}
			}
			athari = {
				d_holyathari = {
					save_event_target_as = holy_order
				}
			}
			audianist = {
				d_holyaudianist = {
					save_event_target_as = holy_order
				}
			}
			aztec = {
				d_holyaztec = {
					save_event_target_as = holy_order
				}
			}
			bud_bahusrutiya = {
				d_holybud_bahusrutiya = {
					save_event_target_as = holy_order
				}
			}
			bud_mahayana = {
				d_holybud_mahayana = {
					save_event_target_as = holy_order
				}
			}
			bud_pratyeka = {
				d_holybud_pratyeka = {
					save_event_target_as = holy_order
				}
			}
			bud_pureland = {
				d_holybud_pureland = {
					save_event_target_as = holy_order
				}
			}
			bud_sthaviravada = {
				d_holybud_sthaviravada = {
					save_event_target_as = holy_order
				}
			}
			bud_vajrayana = {
				d_holybud_vajrayana = {
					save_event_target_as = holy_order
				}
			}
			catholic = {
				d_holycatholic = {
					save_event_target_as = holy_order
				}
			}
			donatist = {
				d_holydonatist = {
					save_event_target_as = holy_order
				}
			}
			haruri = {
				d_holyharuri = {
					save_event_target_as = holy_order
				}
			}
			hindu = {
				d_holyhindu = {
					save_event_target_as = holy_order
				}
			}
			hurufi = {
				d_holyhurufi = {
					save_event_target_as = holy_order
				}
			}
			iconoclast = {
				d_holyiconoclast = {
					save_event_target_as = holy_order
				}
			}
			ilm_islam = {
				d_holyilm_islam = {
					save_event_target_as = holy_order
				}
			}
			indoh_bud = {
				d_holyindoh_bud = {
					save_event_target_as = holy_order
				}
			}
			indoh_confucian = {
				d_holyindoh_confucian = {
					save_event_target_as = holy_order
				}
			}
			indoh_hindu = {
				d_holyindoh_hindu = {
					save_event_target_as = holy_order
				}
			}
			indoh_zor = {
				d_holyindoh_zor = {
					save_event_target_as = holy_order
				}
			}
			jain = {
				d_holyjain = {
					save_event_target_as = holy_order
				}
			}
			jud_zion = {
				d_holyjud_zion = {
					save_event_target_as = holy_order
				}
			}
			jupiter = {
				d_holyjupiter = {
					save_event_target_as = holy_order
				}
			}
			luwian = {
				d_holyluwian = {
					save_event_target_as = holy_order
				}
			}
			mani = {
				d_holymani = {
					save_event_target_as = holy_order
				}
			}
			mani_mithra = {
				d_holymani_mithra = {
					save_event_target_as = holy_order
				}
			}
			maturidi = {
				d_holymaturidi = {
					save_event_target_as = holy_order
				}
			}
			melkite = {
				d_holymelkite = {
					save_event_target_as = holy_order
				}
			}
			mithra = {
				d_holymithra = {
					save_event_target_as = holy_order
				}
			}
			mithra_christ = {
				d_holymithra_christ = {
					save_event_target_as = holy_order
				}
			}
			mithra_sol = {
				d_holymithra_sol = {
					save_event_target_as = holy_order
				}
			}
			monophysite = {
				d_holymonophysite = {
					save_event_target_as = holy_order
				}
			}
			monothelite = {
				d_holymonothelite = {
					save_event_target_as = holy_order
				}
			}
			murjiah = {
				d_holymurjiah = {
					save_event_target_as = holy_order
				}
			}
			mutazil = {
				d_holymutazil = {
					save_event_target_as = holy_order
				}
			}
			mwari = {
				d_holymwari = {
					save_event_target_as = holy_order
				}
			}
			neoplato = {
				d_holyneoplato = {
					save_event_target_as = holy_order
				}
			}
			nestorian = {
				d_holynestorian = {
					save_event_target_as = holy_order
				}
			}
			nyau = {
				d_holynyau = {
					save_event_target_as = holy_order
				}
			}
			orthodox = {
				d_holyorthodox = {
					save_event_target_as = holy_order
				}
			}
			pelagian = {
				d_holypelagian = {
					save_event_target_as = holy_order
				}
			}
			plato_christ = {
				d_holyplato_christ = {
					save_event_target_as = holy_order
				}
			}
			plato_islam = {
				d_holyplato_islam = {
					save_event_target_as = holy_order
				}
			}
			roman_imperial = {
				d_holyroman_imperial = {
					save_event_target_as = holy_order
				}
			}
			sabellianist = {
				d_holysabellianist = {
					save_event_target_as = holy_order
				}
			}
			semipelagian = {
				d_holysemipelagian = {
					save_event_target_as = holy_order
				}
			}
			shiite = {
				d_holyshiite = {
					save_event_target_as = holy_order
				}
			}
			sol = {
				d_holysol = {
					save_event_target_as = holy_order
				}
			}
			sol_apollo = {
				d_holysol_apollo = {
					save_event_target_as = holy_order
				}
			}
			sol_christ = {
				d_holysol_christ = {
					save_event_target_as = holy_order
				}
			}
			sol_mani = {
				d_holysol_mani = {
					save_event_target_as = holy_order
				}
			}
			solomonic_alexandros = {
				d_holysolomonic_alexandros = {
					save_event_target_as = holy_order
				}
			}
			solomonic_christ = {
				d_holysolomonic_christ = {
					save_event_target_as = holy_order
				}
			}
			sunni = {
				d_holysunni = {
					save_event_target_as = holy_order
				}
			}
			unctionist = {
				d_holyunctionist = {
					save_event_target_as = holy_order
				}
			}
			yoruba = {
				d_holyyoruba = {
					save_event_target_as = holy_order
				}
			}
			zahiri = {
				d_holyzahiri = {
					save_event_target_as = holy_order
				}
			}
			zal = {
				d_holyzal = {
					save_event_target_as = holy_order
				}
			}
			zal_christ = {
				d_holyzal_christ = {
					save_event_target_as = holy_order
				}
			}
			zal_mani = {
				d_holyzal_mani = {
					save_event_target_as = holy_order
				}
			}
			zor_hindu = {
				d_holyzor_hindu = {
					save_event_target_as = holy_order
				}
			}
			zoroastrian = {
				d_holyzoroastrian = {
					save_event_target_as = holy_order
				}
			}
			ahriman_reformed = {
				d_holyahriman_reformed = {
					save_event_target_as = holy_order
				}
			}
			amun_reformed = {
				d_holyamun_reformed = {
					save_event_target_as = holy_order
				}
			}
			arab_pagan_reformed = {
				d_holyarab_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			aten_reformed = {
				d_holyaten_reformed = {
					save_event_target_as = holy_order
				}
			}
			baal_monotheistic_reformed = {
				d_holybaal_monotheistic_reformed = {
					save_event_target_as = holy_order
				}
			}
			baltic_pagan_reformed = {
				d_holybaltic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			bantu_pagan_reformed = {
				d_holybantu_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			berber_pagan_reformed = {
				d_holyberber_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			bon_reformed = {
				d_holybon_reformed = {
					save_event_target_as = holy_order
				}
			}
			bud_zen_reformed = {
				d_holybud_zen_reformed = {
					save_event_target_as = holy_order
				}
			}
			bud_zor_reformed = {
				d_holybud_zor_reformed = {
					save_event_target_as = holy_order
				}
			}
			cathar_reformed = {
				d_holycathar_reformed = {
					save_event_target_as = holy_order
				}
			}
			celtic_christ_reformed = {
				d_holyceltic_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			celtic_pagan_reformed = {
				d_holyceltic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			christian_populist_reformed = {
				d_holychristian_populist_reformed = {
					save_event_target_as = holy_order
				}
			}
			chumbylat_reformed = {
				d_holychumbylat_reformed = {
					save_event_target_as = holy_order
				}
			}
			cybele_reformed = {
				d_holycybele_reformed = {
					save_event_target_as = holy_order
				}
			}
			druze_reformed = {
				d_holydruze_reformed = {
					save_event_target_as = holy_order
				}
			}
			erlik_reformed = {
				d_holyerlik_reformed = {
					save_event_target_as = holy_order
				}
			}
			ethiopian_war_reformed = {
				d_holyethiopian_war_reformed = {
					save_event_target_as = holy_order
				}
			}
			finnish_pagan_reformed = {
				d_holyfinnish_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			german_pagan_reformed = {
				d_holygerman_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			graeco_roman_reformed = {
				d_holygraeco_roman_reformed = {
					save_event_target_as = holy_order
				}
			}
			iberian_pagan_reformed = {
				d_holyiberian_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			illuyanka_reformed = {
				d_holyilluyanka_reformed = {
					save_event_target_as = holy_order
				}
			}
			indohelen_reformed = {
				d_holyindohelen_reformed = {
					save_event_target_as = holy_order
				}
			}
			inuit_pagan_reformed = {
				d_holyinuit_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			isis_reformed = {
				d_holyisis_reformed = {
					save_event_target_as = holy_order
				}
			}
			jud_ark_reformed = {
				d_holyjud_ark_reformed = {
					save_event_target_as = holy_order
				}
			}
			judaism_reformed = {
				d_holyjudaism_reformed = {
					save_event_target_as = holy_order
				}
			}
			kubera_reformed = {
				d_holykubera_reformed = {
					save_event_target_as = holy_order
				}
			}
			lubu_reformed = {
				d_holylubu_reformed = {
					save_event_target_as = holy_order
				}
			}
			mand_ruha_reformed = {
				d_holymand_ruha_reformed = {
					save_event_target_as = holy_order
				}
			}
			mandaean_reformed = {
				d_holymandaean_reformed = {
					save_event_target_as = holy_order
				}
			}
			mani_germanic_reformed = {
				d_holymani_germanic_reformed = {
					save_event_target_as = holy_order
				}
			}
			mani_slavic_reformed = {
				d_holymani_slavic_reformed = {
					save_event_target_as = holy_order
				}
			}
			mari_christ_reformed = {
				d_holymari_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			mazdakism_reformed = {
				d_holymazdakism_reformed = {
					save_event_target_as = holy_order
				}
			}
			montanist_reformed = {
				d_holymontanist_reformed = {
					save_event_target_as = holy_order
				}
			}
			murugan_reformed = {
				d_holymurugan_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_aliite_reformed = {
				d_holymuslim_aliite_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_domination_reformed = {
				d_holymuslim_domination_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_sufi_reformed = {
				d_holymuslim_sufi_reformed = {
					save_event_target_as = holy_order
				}
			}
			nasrani_reformed = {
				d_holynasrani_reformed = {
					save_event_target_as = holy_order
				}
			}
			norse_christ_reformed = {
				d_holynorse_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			norse_pagan_reformed = {
				d_holynorse_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			northern_sun_reformed = {
				d_holynorthern_sun_reformed = {
					save_event_target_as = holy_order
				}
			}
			nyakalagan_reformed = {
				d_holynyakalagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			priscillian_reformed = {
				d_holypriscillian_reformed = {
					save_event_target_as = holy_order
				}
			}
			ragnarok_reformed = {
				d_holyragnarok_reformed = {
					save_event_target_as = holy_order
				}
			}
			saura_reformed = {
				d_holysaura_reformed = {
					save_event_target_as = holy_order
				}
			}
			serer_reformed = {
				d_holyserer_reformed = {
					save_event_target_as = holy_order
				}
			}
			set_reformed = {
				d_holyset_reformed = {
					save_event_target_as = holy_order
				}
			}
			sethian_reformed = {
				d_holysethian_reformed = {
					save_event_target_as = holy_order
				}
			}
			slavic_christian_reformed = {
				d_holyslavic_christian_reformed = {
					save_event_target_as = holy_order
				}
			}
			slavic_pagan_reformed = {
				d_holyslavic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_boreas_reformed = {
				d_holysol_boreas_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_islam_reformed = {
				d_holysol_islam_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_sahara_reformed = {
				d_holysol_sahara_reformed = {
					save_event_target_as = holy_order
				}
			}
			tao_reformed = {
				d_holytao_reformed = {
					save_event_target_as = holy_order
				}
			}
			tarhunt_reformed = {
				d_holytarhunt_reformed = {
					save_event_target_as = holy_order
				}
			}
			teiwaz_reformed = {
				d_holyteiwaz_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_bud_reformed = {
				d_holytengri_bud_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_confucian_reformed = {
				d_holytengri_confucian_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_mani_reformed = {
				d_holytengri_mani_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_pagan_reformed = {
				d_holytengri_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_rod_reformed = {
				d_holytengri_rod_reformed = {
					save_event_target_as = holy_order
				}
			}
			vattisenyaly_reformed = {
				d_holyvattisenyaly_reformed = {
					save_event_target_as = holy_order
				}
			}
			vidharma_reformed = {
				d_holyvidharma_reformed = {
					save_event_target_as = holy_order
				}
			}
			voipel_reformed = {
				d_holyvoipel_reformed = {
					save_event_target_as = holy_order
				}
			}
			yazdanism_reformed = {
				d_holyyazdanism_reformed = {
					save_event_target_as = holy_order
				}
			}
			zande_pagan_reformed = {
				d_holyzande_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			zulu_pagan_reformed = {
				d_holyzulu_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			zurvanism_reformed = {
				d_holyzurvanism_reformed = {
					save_event_target_as = holy_order
				}
			}
		}
		event_target:holy_order = {
			holder_scope = {
				ROOT = {
					hidden_tooltip = {
						clear_wealth = PREV
					}
				}
				if = {
					limit = {
						celibate_priest_religion_trigger = yes
					}
					ROOT = {
						any_spouse = {
							remove_spouse = spouse
							hidden_tooltip = {
								character_event = {
									id = 2862
								}
							}
						}
						add_trait = celibate
					}
				}
				ROOT = {
					if = {
						limit = { trait = in_hiding }
						remove_trait = in_hiding
						clr_character_flag = do_not_disturb
						add_character_modifier = {
							name = went_out_of_hiding_timer
							duration = 180
							hidden = yes
						}
						hidden_tooltip = { character_event = { id = CM.6400 } } # Notify plotters and family
					}
				}
			}
		}
	}
}

# Liege refuses request to join a Holy Order
character_event = {
	id = SoA.1033
#	desc =EVTDESC_SOA_1033
#	picture = GFX_evt_crusaders
#	border = GFX_event_normal_frame_religion
	hide_window = yes
	is_triggered_only = yes

	option = {
#		name = EVTOPTA_SOA_1033

		opinion = {
			who = FROM
			modifier = opinion_refused_request_holy_order
		}
	}
}


# The Grand Master humbly requests the right to build a castle in your demesne
character_event = {
	id = SoA.1050
	hide_window = yes

	only_playable = yes

	trigger = {
		has_holy_order_trigger = yes

		any_demesne_province = {
			has_empty_holding = yes
		}

		any_independent_ruler = {
			religion = ROOT
			primary_title = {
				holy_order = yes
			}
			wealth = 300
		}
		
		has_dlc = "Sons of Abraham"
		
		expelled_holy_order_trigger = no
		NOT = {
			any_liege = {
				expelled_holy_order_trigger = yes
			}
		}
	}

	mean_time_to_happen = {
		months = 240
	}

	immediate = {
		random_demesne_province = {
			limit = {
				has_empty_holding = yes
			}
			province_event = {
				id = SoA.1051
			}
		}
	}
}

province_event = {
	id = SoA.1051
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		trigger_switch = {
			on_trigger = religion
			adoptionist = {
				d_holy_adoptionist = {
						save_event_target_as = holy_order
				}
			}
			alexandros = {
				d_holyalexandros = {
					save_event_target_as = holy_order
				}
			}
			almaqah = {
				d_holyalmaqah = {
					save_event_target_as = holy_order
				}
			}
			apollinarist = {
				d_holyapollinarist = {
					save_event_target_as = holy_order
				}
			}
			arian = {
				d_holyarian = {
					save_event_target_as = holy_order
				}
			}
			ashari = {
				d_holyashari = {
					save_event_target_as = holy_order
				}
			}
			athari = {
				d_holyathari = {
					save_event_target_as = holy_order
				}
			}
			audianist = {
				d_holyaudianist = {
					save_event_target_as = holy_order
				}
			}
			aztec = {
				d_holyaztec = {
					save_event_target_as = holy_order
				}
			}
			bud_bahusrutiya = {
				d_holybud_bahusrutiya = {
					save_event_target_as = holy_order
				}
			}
			bud_mahayana = {
				d_holybud_mahayana = {
					save_event_target_as = holy_order
				}
			}
			bud_pratyeka = {
				d_holybud_pratyeka = {
					save_event_target_as = holy_order
				}
			}
			bud_pureland = {
				d_holybud_pureland = {
					save_event_target_as = holy_order
				}
			}
			bud_sthaviravada = {
				d_holybud_sthaviravada = {
					save_event_target_as = holy_order
				}
			}
			bud_vajrayana = {
				d_holybud_vajrayana = {
					save_event_target_as = holy_order
				}
			}
			catholic = {
				d_holycatholic = {
					save_event_target_as = holy_order
				}
			}
			donatist = {
				d_holydonatist = {
					save_event_target_as = holy_order
				}
			}
			haruri = {
				d_holyharuri = {
					save_event_target_as = holy_order
				}
			}
			hindu = {
				d_holyhindu = {
					save_event_target_as = holy_order
				}
			}
			hurufi = {
				d_holyhurufi = {
					save_event_target_as = holy_order
				}
			}
			iconoclast = {
				d_holyiconoclast = {
					save_event_target_as = holy_order
				}
			}
			ilm_islam = {
				d_holyilm_islam = {
					save_event_target_as = holy_order
				}
			}
			indoh_bud = {
				d_holyindoh_bud = {
					save_event_target_as = holy_order
				}
			}
			indoh_confucian = {
				d_holyindoh_confucian = {
					save_event_target_as = holy_order
				}
			}
			indoh_hindu = {
				d_holyindoh_hindu = {
					save_event_target_as = holy_order
				}
			}
			indoh_zor = {
				d_holyindoh_zor = {
					save_event_target_as = holy_order
				}
			}
			jain = {
				d_holyjain = {
					save_event_target_as = holy_order
				}
			}
			jud_zion = {
				d_holyjud_zion = {
					save_event_target_as = holy_order
				}
			}
			jupiter = {
				d_holyjupiter = {
					save_event_target_as = holy_order
				}
			}
			luwian = {
				d_holyluwian = {
					save_event_target_as = holy_order
				}
			}
			mani = {
				d_holymani = {
					save_event_target_as = holy_order
				}
			}
			mani_mithra = {
				d_holymani_mithra = {
					save_event_target_as = holy_order
				}
			}
			maturidi = {
				d_holymaturidi = {
					save_event_target_as = holy_order
				}
			}
			melkite = {
				d_holymelkite = {
					save_event_target_as = holy_order
				}
			}
			mithra = {
				d_holymithra = {
					save_event_target_as = holy_order
				}
			}
			mithra_christ = {
				d_holymithra_christ = {
					save_event_target_as = holy_order
				}
			}
			mithra_sol = {
				d_holymithra_sol = {
					save_event_target_as = holy_order
				}
			}
			monophysite = {
				d_holymonophysite = {
					save_event_target_as = holy_order
				}
			}
			monothelite = {
				d_holymonothelite = {
					save_event_target_as = holy_order
				}
			}
			murjiah = {
				d_holymurjiah = {
					save_event_target_as = holy_order
				}
			}
			mutazil = {
				d_holymutazil = {
					save_event_target_as = holy_order
				}
			}
			mwari = {
				d_holymwari = {
					save_event_target_as = holy_order
				}
			}
			neoplato = {
				d_holyneoplato = {
					save_event_target_as = holy_order
				}
			}
			nestorian = {
				d_holynestorian = {
					save_event_target_as = holy_order
				}
			}
			nyau = {
				d_holynyau = {
					save_event_target_as = holy_order
				}
			}
			orthodox = {
				d_holyorthodox = {
					save_event_target_as = holy_order
				}
			}
			pelagian = {
				d_holypelagian = {
					save_event_target_as = holy_order
				}
			}
			plato_christ = {
				d_holyplato_christ = {
					save_event_target_as = holy_order
				}
			}
			plato_islam = {
				d_holyplato_islam = {
					save_event_target_as = holy_order
				}
			}
			roman_imperial = {
				d_holyroman_imperial = {
					save_event_target_as = holy_order
				}
			}
			sabellianist = {
				d_holysabellianist = {
					save_event_target_as = holy_order
				}
			}
			semipelagian = {
				d_holysemipelagian = {
					save_event_target_as = holy_order
				}
			}
			shiite = {
				d_holyshiite = {
					save_event_target_as = holy_order
				}
			}
			sol = {
				d_holysol = {
					save_event_target_as = holy_order
				}
			}
			sol_apollo = {
				d_holysol_apollo = {
					save_event_target_as = holy_order
				}
			}
			sol_christ = {
				d_holysol_christ = {
					save_event_target_as = holy_order
				}
			}
			sol_mani = {
				d_holysol_mani = {
					save_event_target_as = holy_order
				}
			}
			solomonic_alexandros = {
				d_holysolomonic_alexandros = {
					save_event_target_as = holy_order
				}
			}
			solomonic_christ = {
				d_holysolomonic_christ = {
					save_event_target_as = holy_order
				}
			}
			sunni = {
				d_holysunni = {
					save_event_target_as = holy_order
				}
			}
			unctionist = {
				d_holyunctionist = {
					save_event_target_as = holy_order
				}
			}
			yoruba = {
				d_holyyoruba = {
					save_event_target_as = holy_order
				}
			}
			zahiri = {
				d_holyzahiri = {
					save_event_target_as = holy_order
				}
			}
			zal = {
				d_holyzal = {
					save_event_target_as = holy_order
				}
			}
			zal_christ = {
				d_holyzal_christ = {
					save_event_target_as = holy_order
				}
			}
			zal_mani = {
				d_holyzal_mani = {
					save_event_target_as = holy_order
				}
			}
			zor_hindu = {
				d_holyzor_hindu = {
					save_event_target_as = holy_order
				}
			}
			zoroastrian = {
				d_holyzoroastrian = {
					save_event_target_as = holy_order
				}
			}
			ahriman_reformed = {
				d_holyahriman_reformed = {
					save_event_target_as = holy_order
				}
			}
			amun_reformed = {
				d_holyamun_reformed = {
					save_event_target_as = holy_order
				}
			}
			arab_pagan_reformed = {
				d_holyarab_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			aten_reformed = {
				d_holyaten_reformed = {
					save_event_target_as = holy_order
				}
			}
			baal_monotheistic_reformed = {
				d_holybaal_monotheistic_reformed = {
					save_event_target_as = holy_order
				}
			}
			baltic_pagan_reformed = {
				d_holybaltic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			bantu_pagan_reformed = {
				d_holybantu_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			berber_pagan_reformed = {
				d_holyberber_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			bon_reformed = {
				d_holybon_reformed = {
					save_event_target_as = holy_order
				}
			}
			bud_zen_reformed = {
				d_holybud_zen_reformed = {
					save_event_target_as = holy_order
				}
			}
			bud_zor_reformed = {
				d_holybud_zor_reformed = {
					save_event_target_as = holy_order
				}
			}
			cathar_reformed = {
				d_holycathar_reformed = {
					save_event_target_as = holy_order
				}
			}
			celtic_christ_reformed = {
				d_holyceltic_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			celtic_pagan_reformed = {
				d_holyceltic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			christian_populist_reformed = {
				d_holychristian_populist_reformed = {
					save_event_target_as = holy_order
				}
			}
			chumbylat_reformed = {
				d_holychumbylat_reformed = {
					save_event_target_as = holy_order
				}
			}
			cybele_reformed = {
				d_holycybele_reformed = {
					save_event_target_as = holy_order
				}
			}
			druze_reformed = {
				d_holydruze_reformed = {
					save_event_target_as = holy_order
				}
			}
			erlik_reformed = {
				d_holyerlik_reformed = {
					save_event_target_as = holy_order
				}
			}
			ethiopian_war_reformed = {
				d_holyethiopian_war_reformed = {
					save_event_target_as = holy_order
				}
			}
			finnish_pagan_reformed = {
				d_holyfinnish_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			german_pagan_reformed = {
				d_holygerman_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			graeco_roman_reformed = {
				d_holygraeco_roman_reformed = {
					save_event_target_as = holy_order
				}
			}
			iberian_pagan_reformed = {
				d_holyiberian_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			illuyanka_reformed = {
				d_holyilluyanka_reformed = {
					save_event_target_as = holy_order
				}
			}
			indohelen_reformed = {
				d_holyindohelen_reformed = {
					save_event_target_as = holy_order
				}
			}
			inuit_pagan_reformed = {
				d_holyinuit_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			isis_reformed = {
				d_holyisis_reformed = {
					save_event_target_as = holy_order
				}
			}
			jud_ark_reformed = {
				d_holyjud_ark_reformed = {
					save_event_target_as = holy_order
				}
			}
			judaism_reformed = {
				d_holyjudaism_reformed = {
					save_event_target_as = holy_order
				}
			}
			kubera_reformed = {
				d_holykubera_reformed = {
					save_event_target_as = holy_order
				}
			}
			lubu_reformed = {
				d_holylubu_reformed = {
					save_event_target_as = holy_order
				}
			}
			mand_ruha_reformed = {
				d_holymand_ruha_reformed = {
					save_event_target_as = holy_order
				}
			}
			mandaean_reformed = {
				d_holymandaean_reformed = {
					save_event_target_as = holy_order
				}
			}
			mani_germanic_reformed = {
				d_holymani_germanic_reformed = {
					save_event_target_as = holy_order
				}
			}
			mani_slavic_reformed = {
				d_holymani_slavic_reformed = {
					save_event_target_as = holy_order
				}
			}
			mari_christ_reformed = {
				d_holymari_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			mazdakism_reformed = {
				d_holymazdakism_reformed = {
					save_event_target_as = holy_order
				}
			}
			montanist_reformed = {
				d_holymontanist_reformed = {
					save_event_target_as = holy_order
				}
			}
			murugan_reformed = {
				d_holymurugan_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_aliite_reformed = {
				d_holymuslim_aliite_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_domination_reformed = {
				d_holymuslim_domination_reformed = {
					save_event_target_as = holy_order
				}
			}
			muslim_sufi_reformed = {
				d_holymuslim_sufi_reformed = {
					save_event_target_as = holy_order
				}
			}
			nasrani_reformed = {
				d_holynasrani_reformed = {
					save_event_target_as = holy_order
				}
			}
			norse_christ_reformed = {
				d_holynorse_christ_reformed = {
					save_event_target_as = holy_order
				}
			}
			norse_pagan_reformed = {
				d_holynorse_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			northern_sun_reformed = {
				d_holynorthern_sun_reformed = {
					save_event_target_as = holy_order
				}
			}
			nyakalagan_reformed = {
				d_holynyakalagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			priscillian_reformed = {
				d_holypriscillian_reformed = {
					save_event_target_as = holy_order
				}
			}
			ragnarok_reformed = {
				d_holyragnarok_reformed = {
					save_event_target_as = holy_order
				}
			}
			saura_reformed = {
				d_holysaura_reformed = {
					save_event_target_as = holy_order
				}
			}
			serer_reformed = {
				d_holyserer_reformed = {
					save_event_target_as = holy_order
				}
			}
			set_reformed = {
				d_holyset_reformed = {
					save_event_target_as = holy_order
				}
			}
			sethian_reformed = {
				d_holysethian_reformed = {
					save_event_target_as = holy_order
				}
			}
			slavic_christian_reformed = {
				d_holyslavic_christian_reformed = {
					save_event_target_as = holy_order
				}
			}
			slavic_pagan_reformed = {
				d_holyslavic_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_boreas_reformed = {
				d_holysol_boreas_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_islam_reformed = {
				d_holysol_islam_reformed = {
					save_event_target_as = holy_order
				}
			}
			sol_sahara_reformed = {
				d_holysol_sahara_reformed = {
					save_event_target_as = holy_order
				}
			}
			tao_reformed = {
				d_holytao_reformed = {
					save_event_target_as = holy_order
				}
			}
			tarhunt_reformed = {
				d_holytarhunt_reformed = {
					save_event_target_as = holy_order
				}
			}
			teiwaz_reformed = {
				d_holyteiwaz_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_bud_reformed = {
				d_holytengri_bud_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_confucian_reformed = {
				d_holytengri_confucian_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_mani_reformed = {
				d_holytengri_mani_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_pagan_reformed = {
				d_holytengri_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			tengri_rod_reformed = {
				d_holytengri_rod_reformed = {
					save_event_target_as = holy_order
				}
			}
			vattisenyaly_reformed = {
				d_holyvattisenyaly_reformed = {
					save_event_target_as = holy_order
				}
			}
			vidharma_reformed = {
				d_holyvidharma_reformed = {
					save_event_target_as = holy_order
				}
			}
			voipel_reformed = {
				d_holyvoipel_reformed = {
					save_event_target_as = holy_order
				}
			}
			yazdanism_reformed = {
				d_holyyazdanism_reformed = {
					save_event_target_as = holy_order
				}
			}
			zande_pagan_reformed = {
				d_holyzande_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			zulu_pagan_reformed = {
				d_holyzulu_pagan_reformed = {
					save_event_target_as = holy_order
				}
			}
			zurvanism_reformed = {
				d_holyzurvanism_reformed = {
					save_event_target_as = holy_order
				}
			}
		}
		event_target:holy_order = {
			holder_scope = {
				character_event = {
					id = SoA.1052
				}
			}
		}
	}
}

character_event = {
	id = SoA.1052
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			letter_event = {
				id = SoA.1053
			}
		}
	}
}

letter_event = {
	id = SoA.1053
	desc =EVTDESC_SOA_1053
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_SOA_1023 # Agree
		ai_chance = {
			factor = 80
			modifier = {
				factor = 0
				expelled_holy_order_trigger = yes
			}
		}

		hidden_tooltip = {
			FROMFROM = {
				province_event = { id = SoA.1054 }
			}
			remove_expelled_holy_order_effect = yes
		}

		piety = 200
		wealth = 100
	}

	option = {
		name = EVTOPTB_SOA_1031 # Refuse
		ai_chance = {
			factor = 20
		}

		piety = -100
	}
}

# Castle has been erected
province_event = {
	id = SoA.1054
	desc =EVTDESC_SOA_1054
	picture = GFX_evt_castle_construction
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		FROMFROM = {
			wealth = -300
		}
	}

	option = {
		name = EVTOPTA_SOA_1024
		build_holding = {
		   type = castle
		   holder = FROMFROM
		}
	}
}


# Ping event when expelling a Holy Order
character_event = {
	id = SoA.1060
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		any_title_under = {
			limit = {
				tier = BARON
				location = {
					owner = {
						OR = {
							character = FROM
							is_liege_or_above = FROM
						}
					}
				}
			}
			usurp_title = FROM
		}

		if = {
			limit = {
				is_liege_or_above = FROM
			}
			set_defacto_liege = THIS
		}

		FROM = {
			letter_event = {
				id = SoA.1061
			}
		}

		opinion = {
			who = FROM
			modifier = opinion_expelled_from_realm
		}
	}
}

# Notification event when expellinga Holy Order
letter_event = {
	id = SoA.1061
	desc =EVTDESC_SOA_1061
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	immediate = {
		remove_character_modifier = donated_to_holy_order
	}

	option = {
		name = EVTOPTB_SOA_1061
	}
}

# Ping event when donating money to a Holy Order
character_event = {
	id = SoA.1140
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		wealth = 300
		FROM = {
			letter_event = {
				id = SoA.1141
			}
		}
		opinion = {
			who = FROM
			modifier = opinion_generous_donation
		}
	}
}

# Notification event when donating money a Holy Order
letter_event = {
	id = SoA.1141
	desc =EVTDESC_SOA_1141
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = EXCELLENT
	}
}

# Spouse notified of divorce due to husband going off to join holy order
character_event = {
	id = SoA.2862
	desc = EVTDESC_SoA_2862
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = ALAS
		trigger = {
			opinion = { who = FROMFROMFROM value = 0 }
		}
		tooltip = { remove_spouse = FROMFROMFROM }
	}
	option = {
		name = GOOD_RIDDANCE
		trigger = {
			NOT = { opinion = { who = FROMFROMFROM value = 0 } }
		}
		tooltip = { remove_spouse = FROMFROMFROM }
	}
}
